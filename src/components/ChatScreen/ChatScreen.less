.header-screen-bar-icon-size-handle {
  width: 20px;
  height: 20px;
  color: hsla(0, 0%, 0%, 0.75);
  font-weight: lighter;
}

.main-screen-bar-icons-main-container {
  display: flex;
  gap: 10px;
  align-items: center;
}

.main-screen-bar-buttons-main-container {
  display: flex;
  flex-direction: row;
  gap: 1vw;
  align-items: center;
  justify-content: start;
}

.theme-toggle-button {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.theme-toggle-button:hover {
  transform: scale(1.1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.icons-size-main-screen-bar-filters {
  width: 20px;
  height: 20px;
}

.main-screen-bar-buttons-main-container {
  .rs-toggle-presentation {
    border: solid 1px var(--rs-border-primary) !important;
  }
  .rs-toggle .rs-toggle-presentation::after {
    width: 18px;
    height: 18px;
    left: 3px;
    top: 3px;
    border-radius: 9px;
    background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 640'><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path fill='white' d='M320 64C178.6 64 64 178.6 64 320C64 461.4 178.6 576 320 576C388.8 576 451.3 548.8 497.3 504.6C504.6 497.6 506.7 486.7 502.6 477.5C498.5 468.3 488.9 462.6 478.8 463.4C473.9 463.8 469 464 464 464C362.4 464 280 381.6 280 280C280 207.9 321.5 145.4 382.1 115.2C391.2 110.7 396.4 100.9 395.2 90.8C394 80.7 386.6 72.5 376.7 70.3C358.4 66.2 339.4 64 320 64z'/></svg>")
      no-repeat center;
  }
  .rs-toggle.rs-toggle-checked .rs-toggle-presentation::after {
    left: 100%;
    margin-left: -21px;
    background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 640'><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path fill='white' d='M232.6 56.1C225.9 51.7 217.5 50.9 210.1 53.9C202.7 56.9 197.4 63.5 195.9 71.3L175 174.6L71.7 195.4C63.9 197 57.3 202.4 54.3 209.7C51.3 217 52.1 225.5 56.5 232.2L114.7 320L56.5 407.8C52.1 414.5 51.3 422.9 54.3 430.3C57.3 437.7 63.9 443.1 71.7 444.6L175 465.4L195.9 568.7C197.5 576.5 202.9 583.1 210.2 586.1C217.5 589.1 226 588.3 232.7 583.9L320.5 525.7L408.3 583.9C415 588.3 423.4 589.1 430.8 586.1C438.2 583.1 443.6 576.5 445.1 568.7L466 465.5L569.2 444.6C577 443 583.6 437.6 586.6 430.3C589.6 423 588.8 414.5 584.4 407.8L526.2 320L584.4 232.2C588.8 225.5 589.6 217.1 586.6 209.7C583.6 202.3 577 196.9 569.2 195.4L465.8 174.6L445 71.3C443.4 63.5 438 57 430.6 53.9C423.2 50.8 414.8 51.7 408.1 56.1L320.4 114.3L232.6 56.1zM218.9 199.7L235.9 115.8L307.2 163.1C315.2 168.4 325.7 168.4 333.7 163.1L405 115.8L422 199.7C423.9 209.2 431.3 216.5 440.8 218.5L524.7 235.5L477.4 306.8C472.1 314.8 472.1 325.3 477.4 333.3L524.7 404.6L440.8 421.6C431.3 423.5 423.9 430.9 422 440.4L405 524.3L333.7 477C325.7 471.7 315.2 471.7 307.2 477L235.9 524.3L218.9 440.4C217 430.9 209.6 423.5 200.1 421.6L116.2 404.6L163.5 333.3C168.8 325.3 168.8 314.8 163.5 306.8L116.2 235.5L200.1 218.5C209.6 216.6 216.9 209.2 218.9 199.7zM271.6 320C271.6 293.3 293.3 271.6 320 271.6C346.7 271.6 368.4 293.3 368.4 320C368.4 346.7 346.7 368.4 320 368.4C293.3 368.4 271.6 346.7 271.6 320zM416.4 320C416.4 266.8 373.2 223.6 320 223.6C266.8 223.6 223.6 266.8 223.6 320C223.6 373.2 266.8 416.4 320 416.4C373.2 416.4 416.4 373.2 416.4 320z'/></svg>")
      no-repeat center;
  }

  .rs-toggle-presentation {
    background-color: rgb(43, 7, 95) !important;
  }
  .rs-toggle-checked .rs-toggle-presentation {
    background-color: var(--rs-toggle-checked-bg) !important;
    color: var(--rs-toggle-checked-thumb);
    box-shadow: none;
  }
}

// Keep this as the last style in the file to override styles when dark mode is active
.main-screen-bar-icons-main-container.dark {
  .header-screen-bar-icon-size-handle {
    color: var(--white) !important;
  }
}

//
.chat-screen-container {
  display: flex;
  height: 100%;
}

.chat-list-panel {
  width: 250px;
  border-right: 1px solid #ccc;
  display: flex;
  flex-direction: column;
}

.chat-list-header {
  display: flex;
  justify-content: space-between;
  padding: 10px;
  font-weight: bold;
  border-bottom: 1px solid var(--rs-border-primary);
}

.chat-list-item {
  padding: 10px;
  cursor: pointer;
  &:hover {
    background: #f5f5f5;
  }
}

.chat-list-item.active {
  background: #e6f7ff;
}

.chat-panel {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.chat-header {
  display: flex;
  justify-content: space-between;
  padding: 10px;
  font-weight: bold;
  border-bottom: 1px solid var(--rs-border-primary);
}

.chat-messages {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.chat-message {
  max-width: 60%;
  padding: 8px;
  border-radius: 10px;
}

.chat-message.sent {
  align-self: flex-end;
  background-color: #dcf8c6;
}

.chat-message.received {
  align-self: flex-start;
  background-color: #fff;
  border: 1px solid var(--rs-border-primary);
}

.chat-input-area {
  padding: 10px;
  border-top: 1px solid var(--rs-border-primary);
}
.big-button {
  font-size: 16px !important;
  padding: 12px 32px !important; /* ↑↓ و ←→ */
}

////
/* Root Layout */
.chatScreen {
  display: flex;
  height: 600px;
  background-color: #f5f5f5;
}

/* Sidebar */
.sidebar {
  width: 35%;
  display: flex;
  flex-direction: column;
}

/* Sidebar Header */
.sidebarHeader {
  padding: 16px;
  border-bottom: 1px solid var(--rs-border-primary);
  background-color: #f8f9fa;
}

.headerRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}

.headerTitle {
  font-weight: 350;
}

.searchField {
  .MuiOutlinedInput-root {
    border-radius: 8px;
  }
}

/* Chat Options */
.chatOptions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 16px;
}

.chatOptionsLeft {
  display: flex;
  gap: 8px;
}

.smallLabel {
  .MuiFormControlLabel-label {
    font-size: 0.75rem;
  }
}

.chatList {
  flex: 1;
  overflow: auto;
  padding: 0;
}

.chatListItem {
  &.Mui-selected {
    background-color: #e8f5e8 !important;
    border-right: 3px solid #4caf50;
  }
}

.avatarBadge {
  .MuiBadge-badge {
    width: 12px;
    height: 12px;
  }

  &.offline {
    .MuiBadge-badge {
      display: none;
    }
  }
}

.chatName {
  font-weight: 500;
}

.listItemRight {
  display: flex;
  flex-direction: column;
  align-items: flex-end;

  .unreadChip {
    margin-top: 4px;
    min-width: 20px;
    height: 20px;
  }
}

/* Main Area */
.mainArea {
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Chat Header */
.chatHeader {
  padding: 16px;
  border-bottom: 1px solid var(--rs-border-primary);
}

.chatHeaderRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.userInfo {
  display: flex;
  align-items: center;
  gap: 16px;
}

.userMeta {
  .chatTitle {
    font-weight: 350;
  }
}

.actionBtns {
  display: flex;
  gap: 8px;
}

/* Messages Area */
.messagesArea {
  flex: 1;
  overflow: auto;
  padding: 16px;
  background-color: #f0f2f5;
}

.messagesColumn {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.messageRow {
  display: flex;

  &.me {
    justify-content: flex-end;
  }

  &.other {
    justify-content: flex-start;
  }
}

.messageBubble {
  max-width: 70%;
  padding: 12px;
  background-color: #fff;
  word-break: break-word;
  white-space: pre-wrap;
  position: relative;

  &.me {
    background-color: #e3f2fd;
  }

  &.flagged {
    border: 2px solid #f44336;
  }

  &:hover {
    .flagButton {
      opacity: 1;
    }
  }
}

.metaRow {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  margin-top: 4px;
  gap: 4px;
}

/* Double-check read status */
.doubleCheck {
  position: relative;
  width: 24px;
  height: 24px;

  .checkIcon {
    position: absolute;
    top: 4px;

    &.first {
      left: 0px;
    }
    &.second {
      left: 6px;
    }
  }
}

.flaggedChip {
  margin-top: 8px;
}

/* Flag button on each bubble */
.flagButton {
  position: absolute !important;
  top: -8px;
  right: -8px;
  opacity: 0;
  transition: opacity 0.2s ease;
  background-color: var(--mui-palette-background-paper, #fff);

  &:hover {
    background-color: #f5f5f5;
  }
}

/* Message Input */
.messageInput {
  padding: 16px;
  border-top: 1px solid var(--rs-border-primary);
}

.inputRow {
  display: flex;
  align-items: center;
  gap: 8px;
}

.messageTextField {
  .MuiOutlinedInput-root {
    border-radius: 8px;
  }
}

/* Send button states */
.sendButton {
  color: #fff;

  &.enabled {
    background-color: var(--mui-palette-primary-main, #1976d2);

    &:hover {
      background-color: var(--mui-palette-primary-dark, #115293);
    }
  }

  &.disabled {
    background-color: #e0e0e0;

    &:hover {
      background-color: #d5d5d5;
    }
  }
}

/* Empty state */
.emptyState {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f0f2f5;
}

/* Hidden inputs */
.hiddenInput {
  display: none;
}

/* Group Modal */
.groupModal {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 400px;
  padding: 32px;
  border-radius: 16px;
}

.modalHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 24px;
}

.groupNameField {
  margin-bottom: 16px;

  .MuiOutlinedInput-root {
    border-radius: 8px;
  }
}

.addMembersTitle {
  margin-bottom: 8px;
}

.membersList {
  max-height: 200px;
  overflow: auto;
  margin-bottom: 24px;
}

.memberRow {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px;
  border-bottom: 1px solid var(--rs-border-primary);
  cursor: pointer;

  &:hover {
    background-color: #f5f5f5;
  }

  &.selected {
    background-color: #e3f2fd;
  }
}

.memberAvatar {
  width: 32px !important;
  height: 32px !important;
}

.modalActions {
  display: flex;
  align-items: center;
  justify-content: space-around;
  gap: 16px;
}

/* Flag Modal */
.flagModal {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 350px;
  padding: 32px;
  border-radius: 16px;
}

.flagInfo {
  margin-bottom: 16px;
}

.flagReasons {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.flagReasonBtn {
  justify-content: flex-start !important;
  width: 100%;
}
.css-18x6di2-MuiPaper-root-MuiDialog-paper {
  overflow-y: none !important;
}

/* Prevent the outer shell from creating a second scrollbar */
.chatScreen {
  max-height: 90vh;
  overflow: hidden;
}

/* Allow internal scrollers to work inside flex parents */
.sidebar,
.mainArea {
  min-height: 0; /* critical for flex children with overflow */
}

/* Make the long lists/threads scroll smoothly without bubbling */
.chatList,
.messagesArea {
  overscroll-behavior: contain;
}

/* Keep modals within the viewport and make their content scroll */
.groupModal,
.flagModal {
  max-height: 90vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.rs-theme-dark {
  .chatScreen {
  background-color: var(--black) !important;
}
  .sidebarHeader {
    background-color: var(--black) !important;
  }
  .emptyState {
    background-color: var(--dark-black) !important;
  }
  .messagesArea {
  background-color: var(--dark-black) !important;
}
.messageBubble {
 
  &.me {
    background-color: #578cb2;
  }
}
.chat-modal-title {
   border-bottom: 1px solid var(--rs-border-primary) !important;
   background-color: var(--dark-black) !important;
}
}
